<section
  class="py-16 lg:py-24 text-brand-textPrimary font-sans transition-colors duration-300"
>
  <div class="container mx-auto px-6 lg:px-8">
    <header class="section-heading text-center max-w-4xl mx-auto mb-10 md:mb-12">
      <h2
        class="text-3xl md:text-4xl lg:text-5xl font-bold text-brand-textPrimary text-center dark:text-brand-darkTextStrong"
      >
        {{ "sections.faq.title" | translate }}
      </h2>
      <p
        class="mt-2 text-base md:text-lg text-brand-textSecondary text-center max-w-xl mx-auto"
      >
        {{ "sections.faq.subtitle" | translate }}
      </p>
      <div class="easy-section-underline"></div>
    </header>

    <div class="max-w-4xl mx-auto space-y-4">
      <div *ngFor="let faq of faqs; let i = index" class="group">
        <article
          class="easy-faq-item group"
          [ngClass]="{
            'easy-faq-item--open': faq.isOpen,
            'easy-faq-item--hover': !faq.isOpen
          }"
        >
          <button
            type="button"
            class="easy-faq-header easy-focus-reset easy-focus-ring"
            (click)="toggleFaq(i)"
            [attr.aria-expanded]="faq.isOpen"
            [attr.aria-controls]="'faq-panel-' + i"
            [id]="'faq-header-' + i"
          >
            <div class="flex items-center gap-4">
              <span class="easy-faq-step-badge mr-4">
                {{ i + 1 }}
              </span>
              <span class="easy-faq-title">
                {{ faq.questionKey | translate }}
              </span>
            </div>
            <span
              class="easy-faq-chevron"
              [ngClass]="{ 'easy-faq-chevron--open': faq.isOpen }"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </span>
          </button>

          <div
            [id]="'faq-panel-' + i"
            role="region"
            [attr.aria-labelledby]="'faq-header-' + i"
            class="overflow-hidden transition-all duration-200 ease-out"
            [ngClass]="{
              'max-h-0 opacity-0': !faq.isOpen,
              'max-h-96 opacity-100 mt-3': faq.isOpen
            }"
          >
            <p class="easy-faq-body">
              {{ faq.answerKey | translate }}
            </p>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>
